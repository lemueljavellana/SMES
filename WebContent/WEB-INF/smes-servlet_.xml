<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
	http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
	http://www.springframework.org/schema/context
	http://www.springframework.org/schema/context/spring-context-3.0.xsd">
 	
 	<import resource="applicationContext-hibernate.xml"/>
 	<import resource="applicationContext-validator.xml"/>
	<import resource="applicationContext-service.xml"/>
	<!--  
	<context:component-scan base-package="com.smes.controller" />
	 -->
	<bean id="loginController" class="com.smes.controller.LoginController">
		<property name="sessionForm"><value>true</value></property>
		<property name="commandName"><value>credential</value></property>
		<property name="commandClass"><value>com.smes.view.frm.Credential</value></property>
		<property name="formView"><value>jsp/login/Login.jsp</value></property>
		<property name="validator"><ref bean="loginValidator"/></property>
		<!-- <property name="successView"><value>homePage.htm</value></property>
		 -->
		<property name="successView">
		 	<value>jsp/ca/CAHome.jsp</value>
		 </property>
		<property name="userService" ref="userService"></property>
	</bean>
	
	<!-- Add customer -->
	<bean id="addCustomer" class="com.smes.controller.CustomerAccountController">
		<property name="customerService" ref="customerService"></property>
		<property name=""></property>
	</bean>
	
	<bean id="homePage" class="com.smes.controller.HomePageController" >
		<property name="userDao" ref="userDao"></property>
	</bean>
	
	<bean id="bankControllerResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
		<property name="mappings">
			<props>
				<prop key="/bank.htm">onLoadBankList</prop>
				<prop key="/bankTransaction.htm">bankTransactions</prop>
			</props>
		</property>
	</bean>
	
	<bean id="bankController" class="com.smes.controller.BankController">
		<property name="methodNameResolver" ref="bankControllerResolver"/>
		<property name="bankService" ref="bankService"/>
	</bean>
	<!-- 
	<bean id="bankTransactionController" class="com.smes.controller.BankTransactionController">
		<property name="methodNameResolver" ref="bankControllerResolver"/>
		<property name="bankTransactionService" ref="bankTransactionService"></property>
	</bean>
	 -->
	<bean id="addBankFrm" class="com.smes.controller.AddBank">
		<property name="sessionForm"><value>true</value></property>
		<property name="commandName"><value>bank</value></property>
		<property name="commandClass"><value>com.smes.domain.hibernate.Bank</value></property>
		<property name="formView"><value>jsp/bank/AddBank.jsp</value></property>
		<property name="successView"><value>homePage.htm</value></property>
		<property name="validator"><ref bean="addBankValidator"></ref></property>
		<property name="bankService" ref="bankService"></property>
	</bean>
	
	<bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="mappings">
			<props>
				<prop key="/login.htm">loginController</prop>
				<prop key="/homePage.htm">homePage</prop>
				<prop key="/bank.htm">bankController</prop>
				<prop key="/addBank.htm">addBankFrm</prop>
				<!-- <prop key="/bankTransaction.htm">bankTransactionController</prop> -->
			</props>
		</property>
	</bean>
	 
	<!-- View resolver -->
	<!-- 
	<bean id="viewResolver" 
		class="org.springframework.web.servlet.view.ResourceBundleViewResolver" p:basename="views"/>
	
	<bean id="tilesConfigurer" 
		class="org.springframework.web.servlet.view.tiles2.TilesConfigurer" p:definitions="/WEB-INF/tiles-defs.xml" />
		 -->
</beans>	


